%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% All The Database Theory
%
% Compiled from the lectures of COMP 3005
% as taught by Lou Nel, at Carleton University
%
% Started: October 28, 2012
% By:      Simon Pratt
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[11pt]{book}

\usepackage{geometry}
\geometry{verbose,tmargin=1in,bmargin=1in,lmargin=.5in,rmargin=.5in}
\usepackage[pdftex]{graphicx}
\usepackage{fancyhdr}
\usepackage{fix-cm}
\usepackage{amsmath}
\usepackage{enumerate}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{parskip}
\usepackage{hyperref}
\usepackage{multicol}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Extra stuff from John Howat
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\implies}{\rightarrow}
\newcommand{\same}{\leftrightarrow}
\newcommand{\cross}{\times}
\newcommand{\xor}{\oplus}
\newcommand{\zz}{\mathbb{Z}}
\newcommand{\BigOh}[1]{O\!\left(#1\right)}
\newcommand{\LittleOh}[1]{o\!\left(#1\right)}
\newcommand{\BigOmega}[1]{\Omega\!\left(#1\right)}
\newcommand{\LittleOmega}[1]{\omega\!\left(#1\right)}
\newcommand{\BigTheta}[1]{\Theta\!\left(#1\right)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theorem, Lemma and Definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{claim}{Claim}[chapter]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fix for amsthm and parskip
% URL: http://tex.stackexchange.com/questions/22119/how-can-i-change-the-spacing-before-theorems-with-amsthm
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeatletter
\def\thm@space@setup{%
  \thm@preskip=\parskip \thm@postskip=0pt
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header/footer
% Mostly taken from: 
%  https://texblog.wordpress.com/2007/11/07/headerfooter-in-latex-with-fancyhdr/
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{fancyplain}
\setlength{\headheight}{14pt}
\fancyhead{}             % clear header
\fancyfoot{}

\fancyhead[L]{All The Database Theory}
\fancyhead[C]{Page \thepage }
\fancyhead[R]{Simon Pratt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pretty math macros
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\summ}[2]{\ensuremath{\displaystyle\sum\limits_{#1}^{#2}}} 
%pretty summation

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Relational Algebra
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\GoesTo}{$\leftarrow$ }
\newcommand{\Project}[1]{{\Huge\bf$\pi$}$_{\text{#1}}$}
\newcommand{\Select}[1]{{\Huge\bf$\sigma$}$_{\text{#1}}$}
\renewcommand{\Join}[1]{{\Huge\bf$\otimes$}$_{\text{#1}}$}
\newcommand{\CartesianProduct}{{\Huge\bf$\times$}}
\newcommand{\NaturalJoin}{{\Huge\bf$*$} }
\newcommand{\AggregateFunction}[1]{{\Huge\bf$f$}$_{\text{#1}}$}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{All The Database Theory}
\date{}
\author{Simon Pratt}

\begin{document}
\tableofcontents
\newpage
\begin{multicols}{2}
  
  \include{chapters/functional_dependency}
  \include{chapters/normal_forms}
  \include{chapters/relational_algebra}
  \include{chapters/implementation}
  \appendix
  \include{appendices/er_diagrams}
  \include{appendices/SQL}

\end{multicols}
\end{document}
